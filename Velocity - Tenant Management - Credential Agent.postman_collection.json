{
	"info": {
		"_postman_id": "876f142a-3cd9-44bc-8bc2-9341752858d1",
		"name": "Velocity / Tenant Management / Credential Agent",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Tenants",
			"item": [
				{
					"name": "Credentials",
					"item": [
						{
							"name": "Check Credentials",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"rawCredentials\":[\r\n        {\r\n            \"id\":\"<REPLACE_WITH_CREDENTIAL_ID>\",\r\n            \"rawCredential\":\"<REPLACE_WITH_CREDENTIAL_STRING>\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/check-credentials",
									"host": [
										"{{agentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"check-credentials"
									]
								}
							},
							"response": []
						},
						{
							"name": "Issued Credentials",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/issued-credentials",
									"host": [
										"{{agentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"issued-credentials"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Create Tenant",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"vendorOrganizationId\":\"VCL-VERIF-1\",\n  \"did\":\"did:velocity:0x5c5017626f36a300d39716ae860b445fe91888db\",\n  \"kid\":\"did:velocity:0x5c5017626f36a300d39716ae860b445fe91888db#key-1\",\n  \"serviceIds\": [\"did:velocity:0x5c5017626f36a300d39716ae860b445fe91888db#credential-agent-issuer-1\", \"did:velocity:0x5c5017626f36a300d39716ae860b445fe91888db#credential-agent-provider-1\"],\n  \"key\": \"e107e16dda60a2e3c919d36c6a9ce7566401b7457c69bd01432017d9766a1145\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/api/vendor/v0.6/vendorOrganizations",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"api",
								"vendor",
								"v0.6",
								"vendorOrganizations"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Tenants",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/api/vendor/v0.6/vendorOrganizations",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"api",
								"vendor",
								"v0.6",
								"vendorOrganizations"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Specific Tenant",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/api/vendor/v0.6/vendorOrganizations/{{tenantId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"api",
								"vendor",
								"v0.6",
								"vendorOrganizations",
								"{{tenantId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Tenant (except keys)",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"vendorOrganizationId\":\"{{vendorOrgId}}\",\n  \"serviceId\":\"did:ethr:0x86ef5a9ee24d5a18e785bc02f963fb562128d4cc#velocity-agent-issuer-1\",\n  \"did\": \"did:ethr:0x86ef5a9ee24d5a18e785bc02f963fb562128d4cc\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/api/vendor/v0.6/vendorOrganizations/{{tenantId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"api",
								"vendor",
								"v0.6",
								"vendorOrganizations",
								"{{tenantId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Tenant Signing Keys",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"kid\":\"did:ethr:0x86ef5a9ee24d5a18e785bc02f963fb562128d4cc#key-1\",\n  \"key\": \"bd6eded45cfff7cb1edd3bfa28fd7ee8ea9ff528623c79a9f2bdba5feeeec603\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/api/vendor/v0.6/vendorOrganizations/{{tenantId}}/set-secret",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"api",
								"vendor",
								"v0.6",
								"vendorOrganizations",
								"{{tenantId}}",
								"set-secret"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Tenant",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/api/vendor/v0.6/vendorOrganizations/{{tenantId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"api",
								"vendor",
								"v0.6",
								"vendorOrganizations",
								"{{tenantId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Disclosures",
			"item": [
				{
					"name": "Create Disclosure",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"types\": [\r\n        {\r\n            \"type\": \"VerifiedCredentialNinja\"\r\n        }\r\n    ],\r\n    \"vendorEndpoint\": \"receive-checked-credentials\",\r\n    \"vendorDisclosureId\": \"MSFT0001\",\r\n    \"purpose\": \"Id Check\",\r\n    \"duration\": \"6m\",\r\n    \"termsUrl\": \"https://www.velocityexperiencecenter.com/terms-and-conditions-vnf\",\r\n    \"activationDate\": \"2021-02-16T00:00:01Z\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Disclosure",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Disclosure QR Code",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}/qrcode.png",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}",
								"qrcode.png"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Disclosure QR Uri",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}/qrcode.uri",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}",
								"qrcode.uri"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Disclosures",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Disclosure",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"types\": [\r\n        {\r\n            \"type\": \"IdentityAndContact\"\r\n        },\r\n        {\r\n            \"type\": \"PastEmploymentPosition\"\r\n        },\r\n        {\r\n            \"type\": \"CurrentEmploymentPosition\"\r\n        },\r\n        {\r\n            \"type\": \"EducationDegree\"\r\n        }\r\n    ],\r\n    \"vendorEndpoint\": \"receive-checked-credentials\",\r\n    \"vendorDisclosureId\": \"00001\",\r\n    \"purpose\": \"Job Application\",\r\n    \"duration\": \"6m\",\r\n    \"termsUrl\": \"https://www.lipsum.com/feed/html\",\r\n    \"activationDate\": \"2020-12-16T00:00:01Z\",\r\n    \"deactivationDate\": \"2020-03-15T13:13:00.021Z\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Disclosure",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Offers",
			"item": [
				{
					"name": "Create Exchange",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": \"ISSUING\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Offer",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": [\n    \"PastEmploymentPosition\"\n  ],\n  \"credentialSubject\": {\n    \"vendorUserId\": \"5f29cf7cf12da6007abb9090\",\n    \"company\": \"did:velocity:0xc257274276a4e539741ca11b590b9447b26a8051\",\n    \"companyName\": {\n      \"localized\": {\n        \"en\": \"Microsoft Corporation\"\n      }\n    },\n    \"title\": {\n      \"localized\": {\n        \"en\": \"Director, Communications (HoloLens & Mixed Reality Experiences)\"\n      }\n    },\n    \"startMonthYear\": {\n      \"month\": 10,\n      \"year\": 2010\n    },\n    \"endMonthYear\": {\n      \"month\": 6,\n      \"year\": 2019\n    },\n    \"location\": {\n      \"countryCode\": \"US\",\n      \"regionCode\": \"MA\"\n    },\n    \"description\": {\n      \"localized\": {\n        \"en\": \"Big Data, AI, Hybrid, IoT, Datacenter, Mixed Reality/HoloLens, D365, Power Platform - all kinds of fun stuff!\"\n      }\n    }\n  },\n  \"offerCreationDate\": \"2020-08-04T21:13:32.019Z\",\n  \"offerExpirationDate\": \"2021-08-04T21:13:32.019Z\",\n  \"offerId\": \"ptIQrgxaicFX0QPVf_Z1L\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/offers",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"offers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark Offers Ready",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/offers/complete",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"offers",
								"complete"
							]
						}
					},
					"response": []
				},
				{
					"name": "Claim Offer QR Code PNG",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/qrcode.png",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"qrcode.png"
							]
						}
					},
					"response": []
				},
				{
					"name": "Claim Offer URI",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/qrcode.uri",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"qrcode.uri"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{authToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "agentUrl",
			"value": "http://localhost:8080"
		},
		{
			"key": "vendorOrgId",
			"value": ""
		},
		{
			"key": "did",
			"value": ""
		},
		{
			"key": "tenantId",
			"value": ""
		},
		{
			"key": "disclosureId",
			"value": ""
		},
		{
			"key": "exchangeId",
			"value": ""
		}
	]
}