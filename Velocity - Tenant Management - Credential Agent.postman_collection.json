{
	"info": {
		"_postman_id": "dea041b7-b7bf-4f3c-888b-42ab0538c72f",
		"name": "Velocity / Tenant Management / Credential Agent",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Tenants",

			"item": [
				{
					"name": "Credentials",
					"item": [
						{
							"name": "Check Credentials",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"rawCredentials\":[\r\n        {\r\n            \"id\":\"<REPLACE_WITH_CREDENTIAL_ID>\",\r\n            \"rawCredential\":\"<REPLACE_WITH_CREDENTIAL_STRING>\"\r\n        }\r\n    ]\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/check-credentials",
									"host": [
										"{{agentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"check-credentials"
									]
								}
							},
							"response": []
						},
						{
							"name": "Issued Credentials",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/issued-credentials",
									"host": [
										"{{agentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"issued-credentials"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Keys",
					"item": [
						{
							"name": "Add Tenant Key",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"purposes\": [\n        \"DLT_TRANSACTIONS\",\n        \"EXCHANGES\"\n    ],\n    \"algorithm\": \"SECP256K1\",\n    \"encoding\": \"hex\",\n    \"kidFragment\": \"#key-1\",\n    \"key\": \"14aa347fad96bd8c5f24e6b096b4e3ca850695aad6db004417bdb7b6a93b2801\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/keys",
									"host": [
										"{{agentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"keys"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Tenant Keys Metadata",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{idVerificationAgentUrl}}/operator-api/v0.8/tenants/{{did}}/keys",
									"host": [
										"{{idVerificationAgentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"keys"
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Tenant Key",
							"request": {
								"method": "DELETE",
								"header": [],
								"url": {
									"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/keys/{{kidFragment}}",
									"host": [
										"{{agentUrl}}"
									],
									"path": [
										"operator-api",
										"v0.8",
										"tenants",
										"{{did}}",
										"keys",
										"{{kidFragment}}"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Create Tenant",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"did\": \"did:velocity:0xd09d3ef30e96b0decc78ddc661137b89b3b5abd4\",\n    \"serviceIds\": [\n        \"did:velocity:0xd09d3ef30e96b0decc78ddc661137b89b3b5abd4#velocity-id-verification-credential-agent-issuer-1\"\n    ],\n    \"keys\": [\n        {\n            \"purposes\": [\n                \"DLT_TRANSACTIONS\",\n                \"EXCHANGES\",\n                \"ISSUING_METADATA\"\n            ],\n            \"algorithm\": \"SECP256K1\",\n            \"encoding\": \"hex\",\n            \"kidFragment\": \"#key-1\",\n            \"key\": \"14aa347fad96bd8c5f24e6b096b4e3ca850695aad6db004417bdb7b6a93b2801\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Tenants",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Specific Tenant",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Tenant",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"serviceIds\":[\"did:velocity:0xfa1f545e361b64d8ccb373b14a734f8283442a7f#credential-agent-inspector-1\"]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Tenant",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Disclosures",
			"item": [
				{
					"name": "Create Disclosure",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"types\": [\r\n        {\r\n            \"type\": \"VerifiedCredentialNinja\"\r\n        }\r\n    ],\r\n    \"vendorEndpoint\": \"receive-checked-credentials\",\r\n    \"vendorDisclosureId\": \"MSFT0001\",\r\n    \"purpose\": \"Id Check\",\r\n    \"duration\": \"6m\",\r\n    \"termsUrl\": \"https://www.velocityexperiencecenter.com/terms-and-conditions-vnf\",\r\n    \"activationDate\": \"2021-02-16T00:00:01Z\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Disclosure",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Disclosure QR Code",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}/qrcode.png",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}",
								"qrcode.png"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Disclosure QR Uri",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}/qrcode.uri",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}",
								"qrcode.uri"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get All Disclosures",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Disclosure",
					"request": {
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"types\": [\r\n        {\r\n            \"type\": \"IdentityAndContact\"\r\n        },\r\n        {\r\n            \"type\": \"PastEmploymentPosition\"\r\n        },\r\n        {\r\n            \"type\": \"CurrentEmploymentPosition\"\r\n        },\r\n        {\r\n            \"type\": \"EducationDegree\"\r\n        }\r\n    ],\r\n    \"vendorEndpoint\": \"receive-checked-credentials\",\r\n    \"vendorDisclosureId\": \"00001\",\r\n    \"purpose\": \"Job Application\",\r\n    \"duration\": \"6m\",\r\n    \"termsUrl\": \"https://www.lipsum.com/feed/html\",\r\n    \"activationDate\": \"2020-12-16T00:00:01Z\",\r\n    \"deactivationDate\": \"2020-03-15T13:13:00.021Z\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Delete Disclosure",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/disclosures/{{disclosureId}}",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"disclosures",
								"{{disclosureId}}"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Offers",
			"item": [
				{
					"name": "Create Exchange",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"type\": \"ISSUING\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add Offer",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"type\": [\n    \"PastEmploymentPosition\"\n  ],\n  \"credentialSubject\": {\n    \"vendorUserId\": \"adam.smith@example.com\",\n    \"company\": \"did:velocity:0xd4df29726d500f9b85bc6c7f1b3c021f16305692\",\n    \"companyName\": {\n      \"localized\": {\n        \"en\": \"Microsoft Corporation\"\n      }\n    },\n    \"title\": {\n      \"localized\": {\n        \"en\": \"Director, Communications (HoloLens & Mixed Reality Experiences)\"\n      }\n    },\n    \"startMonthYear\": {\n      \"month\": 10,\n      \"year\": 2010\n    },\n    \"endMonthYear\": {\n      \"month\": 5,\n      \"year\": 2022\n    },\n    \"location\": {\n      \"countryCode\": \"US\",\n      \"regionCode\": \"MA\"\n    },\n    \"description\": {\n      \"localized\": {\n        \"en\": \"Big Data, AI, Hybrid, IoT, Datacenter, Mixed Reality/HoloLens, D365, Power Platform - all kinds of fun stuff!!!\"\n      }\n    }\n  },\n  \"offerCreationDate\": \"2020-08-04T21:13:32.019Z\",\n  \"offerExpirationDate\": \"2021-08-04T21:13:32.019Z\",\n  \"offerId\": \"ptIQrgxaicFX0QPVf_Z1L\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/offers",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"offers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Mark Offers Complete",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/offers/complete",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"offers",
								"complete"
							]
						}
					},
					"response": []
				},
				{
					"name": "Claim Offer QR Code PNG",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/qrcode.png",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"qrcode.png"
							]
						}
					},
					"response": []
				},
				{
					"name": "Claim Offer URI",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{agentUrl}}/operator-api/v0.8/tenants/{{did}}/exchanges/{{exchangeId}}/qrcode.uri",
							"host": [
								"{{agentUrl}}"
							],
							"path": [
								"operator-api",
								"v0.8",
								"tenants",
								"{{did}}",
								"exchanges",
								"{{exchangeId}}",
								"qrcode.uri"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{authToken}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "agentUrl",
			"value": "http://localhost:8080"
		},
		{
			"key": "did",
			"value": ""
		},
		{
			"key": "tenantId",
			"value": ""
		},
		{
			"key": "disclosureId",
			"value": ""
		},
		{
			"key": "exchangeId",
			"value": ""
		},
		{
			"key": "kidFragment",
			"value": "%23key-1"
		}
	]
}